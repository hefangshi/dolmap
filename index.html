<!DOCTYPE html>
<html>
<head>
<title>DOL Map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
    html,body
    {
        padding: 0px;
        margin: 0px;
    }
</style>
<script type="text/javascript" src="http://ajax.microsoft.com/ajax/jquery/jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=1.4"></script>
</head>
<body>
<div id="map" style="width:100%;"></div>
<script type="text/javascript">

$(document).ready(function(){
    $("#map").height($(window).height());
    var tileLayer = new BMap.TileLayer();
    tileLayer.getTilesUrl = function(tileCoord, zoom) {
        var x = tileCoord.x;
        var y = tileCoord.y;
        var maxX=Math.pow(2,zoom-MyMap.getMinZoom());
        var minX=-maxX;
        var warp=2*maxX;
        while(x>=maxX)
        x-=warp;
        while(x<minX)
        x+=warp;
        return 'tiles/' + zoom + '/tile' + x + '_' + y + '.png';
    };
    var MyMap = new BMap.MapType('MyMap', tileLayer, {minZoom: 5, maxZoom: 8});
    var map = new BMap.Map('map', {mapType: MyMap,enableAutoResize:true});
    map.addControl(new BMap.NavigationControl({showZoomInfo:false}));
    map.addEventListener('addcontrol',function(evt){
        if (evt.target._className==="CopyrightControl"||
            evt.target.IMG_URL==="http://api.map.baidu.com/images/copyright_logo.png"){
            map.removeControl(evt.target);
        }
    });
    map.centerAndZoom(new BMap.Point(24, 0.4), 7);
    map.enableScrollWheelZoom();
    map.enableInertialDragging();
});
</script>
</body>
</html>
